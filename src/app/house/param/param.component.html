<ng-container *ngIf="group">
  <h2>Параметры: {{group.type.title}}</h2>
  <p *ngIf="description">{{group.type.description}}</p>

  <form class="example-form" (ngSubmit)="onSubmit()" #paramForm="ngForm">
    <ng-container *ngFor="let data of params_">      
      <ng-container [ngSwitch]="data.param_.param.type">        
        <mat-card *ngSwitchCase="data.param_.param.type === paramTypes.RangeType || data.param_.param.type === paramTypes.Unknown ? data.param_.param.type : ''">{{data.param_.param.title}}<br><br>
          <ng-container *ngFor="let child of data.childs_params_"> 
            <ng-container [ngSwitch]="child.param.type">
              <div class="example-full-width" *ngSwitchCase="paramTypes.Bool">
                <mat-checkbox name="{{child.id}}" [ngModel]="child.value" (ngModelChange)="change(child, $event)" *ngSwitchCase="paramTypes.Bool">
                  {{child.param.title}} ({{child.param.name}})
                </mat-checkbox>
                <div><mat-hint class ="custom_hint" *ngIf="child.param.description">{{child.param.description}}</mat-hint></div>
              </div>

              <mat-form-field class="example-full-width" *ngSwitchCase="paramTypes.TimeType">
                <input matInput placeholder="{{child.param.title}} ({{child.param.name}})" 
                     name="{{child.id}}" [ngModel]="getTimeString(child)" (ngModelChange)="change(child, $event)" type="time" step="1">
                <mat-hint *ngIf="child.param.description">{{child.param.description}}</mat-hint>
              </mat-form-field>

              <mat-form-field class="example-full-width" *ngSwitchDefault>
                <input matInput placeholder="{{child.param.title}} ({{child.param.name}})" 
                     name="{{child.id}}" [(ngModel)]="child.value" (ngModelChange)="change(child, $event)">
                <mat-hint *ngIf="child.param.description">{{child.param.description}}</mat-hint>
              </mat-form-field>
            </ng-container>              
          </ng-container>
        </mat-card>
          
        <mat-card class="example-full-width" *ngSwitchCase="paramTypes.Bool">
          <mat-checkbox name="{{data.param_.id}}" [ngModel]="data.param_.value" (ngModelChange)="change(data.param_, $event)" *ngSwitchCase="paramTypes.Bool">
            {{data.param_.param.title}} ({{data.param_.param.name}})
          </mat-checkbox>        
          <div><mat-hint class ="custom_hint" *ngIf="data.param_.param.description">{{data.param_.param.description}}</mat-hint></div>
        </mat-card>

        <mat-card *ngSwitchCase="paramTypes.TimeType">
          <mat-form-field class="example-full-width">
            <input matInput placeholder="{{data.param_.param.title}} ({{data.param_.param.name}})" 
                 name="{{data.param_.id}}" [ngModel]="getTimeString(data.param_)" (ngModelChange)="change(data.param_, $event)" type="time" step="1">
            <mat-hint *ngIf="data.param_.param.description">{{data.param_.param.description}}</mat-hint>
          </mat-form-field>
        </mat-card>

        <mat-card *ngSwitchDefault>
          <mat-form-field class="example-full-width">
            <input matInput placeholder="{{data.param_.param.title}} ({{data.param_.param.name}})" 
                 name="{{data.param_.id}}" [(ngModel)]="data.param_.value" (ngModelChange)="change(data.param_, $event)">
            <mat-hint *ngIf="data.param_.param.description">{{data.param_.param.description}}</mat-hint>
          </mat-form-field>  
        </mat-card>
          
      </ng-container>
    </ng-container>
    
    <button mat-raised-button class="custom_button" color="primary" [disabled]="cantChange || !paramForm.form.valid" type="submit">Сохранить</button>
    <!-- <button mat-raised-button class="custom_button" *ngIf="group.type.code_id" routerLink="../settings/code/{{group.type.code_id}}">Edit code</button> -->
    <button mat-raised-button class="custom_button" (click)="goBack()">go back</button>
    
  </form>
</ng-container>
<button mat-raised-button *ngIf="!group" (click)="goBack()">go back</button>
