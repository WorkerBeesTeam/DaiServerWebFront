<h2 i18n="@@MANAGEMENT.TITLE">Управление проектом</h2>

<div class="grid grid-pad">
  <ng-container *ngFor="let sct of sections">
    <div *ngIf="sct.groups.length" class="col-1-3">
      <div class="module house">
        <h3>{{sct.name}} <button mat-icon-button><mat-icon>settings</mat-icon></button></h3>
        <table class="eqTable">
          <ng-container *ngFor="let group of sct.groups">
            <tr>
              <td colspan="2">
                <h4 routerLink="/house/{{houseName}}/group/{{group.id}}/param">{{group.title ? group.title : group.type.title}}</h4>
                <app-group-status [group]="group"></app-group-status>
                <mat-form-field>
                  <mat-select i18n-placeholder="@@MANAGEMENT.MODE" placeholder="Режим" [value]="group.mode ? group.mode.toString() : '0'"
                    (selectionChange)="controlService.changeGroupMode($event.value, group.id)"
                    (click)="$event.stopPropagation()">
                    <mat-option i18n="@@MANAGEMENT.MODE.NONE">Не выбран</mat-option>
                    <mat-option value="1" i18n="@@MANAGEMENT.MODE.MANUAL">Ручной</mat-option>
                    <mat-option value="2" i18n="@@MANAGEMENT.MODE.AUTO">Автоматический</mat-option>
                  </mat-select>
                </mat-form-field>
              </td>
            </tr>

            <tr *ngFor="let item of group.items">
              <td>{{item.name || item.type.title}}</td><td (click)="itemValue.openDialog()"><app-dev-item-value #itemValue [item]="item"></app-dev-item-value></td>
            </tr>
          </ng-container>
        </table>
      </div>
    </div>
  </ng-container>
</div>
