<div class="search-line">
  <mat-form-field class="sline-item search-edit">
    <input matInput #searchBox i18n-placeholder="@@CONTROL.SEARCH" placeholder="Поиск" id="search-box" (keyup)="searchString.next(searchBox.value)" />
  </mat-form-field>

  <mat-form-field class="sline-item search-ity">
    <mat-label i18n="@@CITY">Город</mat-label>
    <mat-select [(value)]="citySelected" (selectionChange)="search(searchBox.value)" >
      <mat-option i18n="@@NOT_SELECTED">Не выбрано</mat-option>
      <mat-option *ngFor="let c of cities" [value]="c.id">{{c.name}}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field class="sline-item search-comp">
    <mat-label i18n="@@COMPANY">Компания</mat-label>
    <mat-select [(value)]="compSelected" (selectionChange)="search(searchBox.value)">
      <mat-option i18n="@@NOT_SELECTED">Не выбрано</mat-option>
      <mat-option *ngFor="let c of comps" [value]="c.id">{{c.name}}</mat-option>
    </mat-select>
  </mat-form-field>
</div>

<ul class="houses">
  <li *ngFor="let house of houses">
    <mat-icon [matTooltip]="status_desc(house)" [ngClass]="status_class(house)"
              #tooltip="matTooltip" (click)="tooltip.toggle()"></mat-icon>
    <app-house-state-list [messages]="house.messages"></app-house-state-list>
    <a class="pre_badge" routerLink="/house/{{house.name}}/manage">
      <span class="badge">{{house.id}}</span>
      <span class="house-title">{{house.title}}</span>
    </a>
    <span class="version" *ngIf="is_admin">{{house.version}}</span>
    </li>
</ul>


<mat-paginator [length]="resultsLength"
               [pageSize]="10"
               [pageSizeOptions]="[5, 10, 25, 100]"
               (page)="pageEvent = getPaginatorData($event)">
</mat-paginator>

<hr>
<div class="house_form"><span i18n="@@DETAILS.PROJECT">Проект</span>:
  <label><span i18n="@@DETAILS.NAME">Имя</span>: <input [(ngModel)]="new_house.name" i18n-placeholder="@@DETAILS.NAME" placeholder="Имя" /></label>

  <label><span i18n="@@DETAILS.TITLE">Заголовок</span>: <input [(ngModel)]="new_house.title" i18n-placeholder="@@DETAILS.HINT.NAME" placeholder="Display name" /></label>

  <label><span i18n="@@DETAILS.DESCRIPTION">Описание</span>: <input [(ngModel)]="new_house.description" i18n-placeholder="@@DETAILS.DESCRIPTION" placeholder="Описание" /></label>

  <label><span i18n="@@DETAILS.UUID">Уникальный номер</span>: <input [(ngModel)]="new_house.device" i18n-placeholder="@@DETAILS.HINT.UUID" placeholder="Device UUID" /></label>
  <!-- (click) passes input value to add() and then clears the input -->
  <button (click)="add()" i18n="@@CONTROL.ADD">Добавить</button>
</div>

